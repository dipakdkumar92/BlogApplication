{% extends "base.html" %}

{% block content %}

<div class="container">
  <div class="row mt-4 mb-4">
    <div class="col-md">
      <a href="{% url 'blog:create' %}" class="btn btn-primary">Create Article</a>
    </div>

    <form>
      <div class="row mt-4">
        {% for tag in tags %}
          {% if tag.name in selected_tags %}
          <div class="col-3 d-inline">
            <input class="form-check-input"
              type="checkbox" value="{{ tag }}" id="{{ tag.id }}" name="{{tag}}" checked>
            {{ tag }}
          </div>
          {% else %}
          <div class="col-3 d-inline">
            <input class="form-check-input"
              type="checkbox" value="{{ tag }}" id="{{ tag.id }}" name="{{tag}}">
            {{ tag }}
          </div>
          {% endif %}
        {% endfor %}
      </div>
      <button class="btn btn-primary mt-4 d-inline" type="submit">Filter</button>
    </form>
  </div>
  <div class="row">

  {% for article in articles %}
    <div class="col-4">
      <div class="col-md bg-light">
        <img src="{{ article.image.url }}" alt="..." class="img-thumbnail">
      </div>
      <div class="col-md">
          <p>{{ article.content | safe | truncatewords:8 }}
            <a href="{% url 'blog:detail' article.id %}" class="badge-primary">read more</a>
          </p>
          
      </div>
    </div>
  {% endfor %}
</div>

</div>
{% endblock %}